/**
 * quikdown - Lightweight Markdown Parser
 * @version 1.0.3dev4
 * @license BSD-2-Clause
 * @copyright DeftIO 2025
 */
const e="quikdown-",t="§CB",n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r={h1:"font-size:2em;font-weight:600;margin:.67em 0;text-align:left",h2:"font-size:1.5em;font-weight:600;margin:.83em 0",h3:"font-size:1.25em;font-weight:600;margin:1em 0",h4:"font-size:1em;font-weight:600;margin:1.33em 0",h5:"font-size:.875em;font-weight:600;margin:1.67em 0",h6:"font-size:.85em;font-weight:600;margin:2em 0",pre:"background:#f4f4f4;padding:10px;border-radius:4px;overflow-x:auto;margin:1em 0",code:"background:#f0f0f0;padding:2px 4px;border-radius:3px;font-family:monospace",blockquote:"border-left:4px solid #ddd;margin-left:0;padding-left:1em",table:"border-collapse:collapse;width:100%;margin:1em 0",th:"border:1px solid #ddd;padding:8px;background-color:#f2f2f2;font-weight:bold;text-align:left",td:"border:1px solid #ddd;padding:8px;text-align:left",hr:"border:none;border-top:1px solid #ddd;margin:1em 0",img:"max-width:100%;height:auto",a:"color:#06c;text-decoration:underline",strong:"font-weight:bold",em:"font-style:italic",del:"text-decoration:line-through",ul:"margin:.5em 0;padding-left:2em",ol:"margin:.5em 0;padding-left:2em",li:"margin:.25em 0","task-item":"list-style:none","task-checkbox":"margin-right:.5em"};function o(o,l={}){if(!o||"string"!=typeof o)return"";const{fence_plugin:i,inline_styles:c=!1}=l,a=function(t,n){return function(r,o=""){if(t){const e=n[r];return e||o?` style="${o?e?`${e};${o}`:o:e}"`:""}return` class="${e}${r}"`}}(c,r);function p(e){return e.replace(/[&<>"']/g,e=>n[e])}function g(e,t=!1){if(!e)return"";if(t)return e;const n=e.trim(),r=n.toLowerCase(),o=["javascript:","vbscript:","data:"];for(const e of o)if(r.startsWith(e))return"data:"===e&&r.startsWith("data:image/")?n:"#";return n}let d=o;const u=[],f=[];d=d.replace(/^(```|~~~)([^\n]*)\n([\s\S]*?)^\1$/gm,(e,n,r,o)=>{const l=`${t}${u.length}§`,s=r?r.trim():"";return i&&"function"==typeof i?u.push({lang:s,code:o.trimEnd(),custom:!0}):u.push({lang:s,code:p(o.trimEnd()),custom:!1}),l}),d=d.replace(/`([^`]+)`/g,(e,t)=>{const n=`§IC${f.length}§`;return f.push(p(t)),n}),d=p(d),d=function(e,t){const n=e.split("\n"),r=[];let o=!1,l=[];for(let e=0;e<n.length;e++){const i=n[e].trim();if(i.includes("|")&&(i.startsWith("|")||/[^\\|]/.test(i)))o||(o=!0,l=[]),l.push(i);else{if(o){const e=s(l,t);e?r.push(e):r.push(...l),o=!1,l=[]}r.push(n[e])}}if(o&&l.length>0){const e=s(l,t);e?r.push(e):r.push(...l)}return r.join("\n")}(d,a),d=d.replace(/^(#{1,6})\s+(.+?)\s*#*$/gm,(e,t,n)=>{const r=t.length;return`<h${r}${a("h"+r)}>${n}</h${r}>`}),d=d.replace(/^&gt;\s+(.+)$/gm,`<blockquote${a("blockquote")}>$1</blockquote>`),d=d.replace(/<\/blockquote>\n<blockquote>/g,"\n"),d=d.replace(/^---+$/gm,`<hr${a("hr")}>`),d=function(t,n,r){const o=t.split("\n"),l=[];let s=[];for(let t=0;t<o.length;t++){const i=o[t],c=i.match(/^(\s*)([*\-+]|\d+\.)\s+(.+)$/);if(c){const[,t,o,i]=c,a=Math.floor(t.length/2),p=/^\d+\./.test(o),g=p?"ol":"ul";let d=i,u="";const f=i.match(/^\[([x ])\]\s+(.*)$/i);if(f&&!p){const[,t,n]=f,o="x"===t.toLowerCase();d=`<input type="checkbox"${r?' style="margin-right:.5em"':` class="${e}task-checkbox"`}${o?" checked":""} disabled> ${n}`,u=r?' style="list-style:none"':` class="${e}task-item"`}for(;s.length>a+1;){const e=s.pop();l.push(`</${e.type}>`)}if(s.length===a)s.push({type:g,level:a}),l.push(`<${g}${n(g)}>`);else if(s.length===a+1){const e=s[s.length-1];e.type!==g&&(l.push(`</${e.type}>`),s.pop(),s.push({type:g,level:a}),l.push(`<${g}${n(g)}>`))}const h=u||n("li");l.push(`<li${h}>${d}</li>`)}else{for(;s.length>0;){const e=s.pop();l.push(`</${e.type}>`)}l.push(i)}}for(;s.length>0;){const e=s.pop();l.push(`</${e.type}>`)}return l.join("\n")}(d,a,c),d=d.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(e,t,n)=>{const r=g(n,l.allow_unsafe_urls);return`<img${a("img")} src="${r}" alt="${t}">`}),d=d.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(e,t,n)=>{const r=g(n,l.allow_unsafe_urls),o=/^https?:\/\//i.test(r)?' rel="noopener noreferrer"':"";return`<a${a("a")} href="${r}"${o}>${t}</a>`}),d=d.replace(/(^|\s)(https?:\/\/[^\s<]+)/g,(e,t,n)=>{const r=g(n,l.allow_unsafe_urls);return`${t}<a${a("a")} href="${r}" rel="noopener noreferrer">${n}</a>`});[[/\*\*(.+?)\*\*/g,"strong"],[/__(.+?)__/g,"strong"],[/(?<!\*)\*(?!\*)(.+?)(?<!\*)\*(?!\*)/g,"em"],[/(?<!_)_(?!_)(.+?)(?<!_)_(?!_)/g,"em"],[/~~(.+?)~~/g,"del"]].forEach(([e,t])=>{d=d.replace(e,`<${t}${a(t)}>$1</${t}>`)}),d=d.replace(/  $/gm,`<br${a("br")}>`),d=d.replace(/\n\n+/g,"</p><p>"),d="<p>"+d+"</p>";return[[/<p><\/p>/g,""],[/<p>(<h[1-6][^>]*>)/g,"$1"],[/(<\/h[1-6]>)<\/p>/g,"$1"],[/<p>(<blockquote[^>]*>)/g,"$1"],[/(<\/blockquote>)<\/p>/g,"$1"],[/<p>(<ul[^>]*>|<ol[^>]*>)/g,"$1"],[/(<\/ul>|<\/ol>)<\/p>/g,"$1"],[/<p>(<hr[^>]*>)<\/p>/g,"$1"],[/<p>(<table[^>]*>)/g,"$1"],[/(<\/table>)<\/p>/g,"$1"],[/<p>(<pre[^>]*>)/g,"$1"],[/(<\/pre>)<\/p>/g,"$1"],[new RegExp(`<p>(${t}\\d+§)</p>`,"g"),"$1"]].forEach(([e,t])=>{d=d.replace(e,t)}),u.forEach((e,n)=>{let r;if(e.custom&&i){if(r=i(e.code,e.lang),void 0===r){const t=!c&&e.lang?` class="language-${e.lang}"`:"",n=c?a("code"):t;r=`<pre${a("pre")}><code${n}>${p(e.code)}</code></pre>`}}else{const t=!c&&e.lang?` class="language-${e.lang}"`:"",n=c?a("code"):t;r=`<pre${a("pre")}><code${n}>${e.code}</code></pre>`}const o=`${t}${n}§`;d=d.replace(o,r)}),f.forEach((e,t)=>{const n=`§IC${t}§`;d=d.replace(n,`<code${a("code")}>${e}</code>`)}),d.trim()}function l(e,t){return[[/\*\*(.+?)\*\*/g,"strong"],[/__(.+?)__/g,"strong"],[/(?<!\*)\*(?!\*)(.+?)(?<!\*)\*(?!\*)/g,"em"],[/(?<!_)_(?!_)(.+?)(?<!_)_(?!_)/g,"em"],[/~~(.+?)~~/g,"del"],[/`([^`]+)`/g,"code"]].forEach(([n,r])=>{e=e.replace(n,`<${r}${t(r)}>$1</${r}>`)}),e}function s(e,t){if(e.length<2)return null;let n=-1;for(let t=1;t<e.length;t++)if(/^\|?[\s\-:|]+\|?$/.test(e[t])&&e[t].includes("-")){n=t;break}if(-1===n)return null;const r=e.slice(0,n),o=e.slice(n+1),s=e[n].trim().replace(/^\|/,"").replace(/\|$/,"").split("|").map(e=>{const t=e.trim();return t.startsWith(":")&&t.endsWith(":")?"center":t.endsWith(":")?"right":"left"});let i=`<table${t("table")}>\n`;return r.length>0&&(i+=`<thead${t("thead")}>\n`,r.forEach(e=>{i+=`<tr${t("tr")}>\n`;e.trim().replace(/^\|/,"").replace(/\|$/,"").split("|").forEach((e,n)=>{const r=s[n]&&"left"!==s[n]?`text-align:${s[n]}`:"",o=l(e.trim(),t);i+=`<th${t("th",r)}>${o}</th>\n`}),i+="</tr>\n"}),i+="</thead>\n"),o.length>0&&(i+=`<tbody${t("tbody")}>\n`,o.forEach(e=>{i+=`<tr${t("tr")}>\n`;e.trim().replace(/^\|/,"").replace(/\|$/,"").split("|").forEach((e,n)=>{const r=s[n]&&"left"!==s[n]?`text-align:${s[n]}`:"",o=l(e.trim(),t);i+=`<td${t("td",r)}>${o}</td>\n`}),i+="</tr>\n"}),i+="</tbody>\n"),i+="</table>",i}o.emitStyles=function(){const t=r;let n="";for(const[r,o]of Object.entries(t))o&&(n+=`.${e}${r} { ${o} }\n`);return n},o.configure=function(e){return function(t){return o(t,e)}},o.version="1.0.3dev4","undefined"!=typeof module&&module.exports&&(module.exports=o),"undefined"!=typeof window&&(window.quikdown=o);export{o as default};
//# sourceMappingURL=quikdown.esm.min.js.map
