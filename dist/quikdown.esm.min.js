/**
 * QuikDown - Lightweight Markdown Parser
 * @version 2.0
 * @license BSD-2-Clause
 * @copyright DeftIO 2025
 */
function e(e,t={}){if(!e||"string"!=typeof e)return"";const{fence_plugin:n,inline_styles:r=!1}=t,l={h1:"margin-top: 0.5em; margin-bottom: 0.3em",h2:"margin-top: 0.5em; margin-bottom: 0.3em",h3:"margin-top: 0.5em; margin-bottom: 0.3em",h4:"margin-top: 0.5em; margin-bottom: 0.3em",h5:"margin-top: 0.5em; margin-bottom: 0.3em",h6:"margin-top: 0.5em; margin-bottom: 0.3em",pre:"background: #f4f4f4; padding: 10px; border-radius: 4px; overflow-x: auto",code:"background: #f0f0f0; padding: 2px 4px; border-radius: 3px",blockquote:"border-left: 4px solid #ddd; margin-left: 0; padding-left: 1em; color: #666",table:"border-collapse: collapse; width: 100%; margin: 1em 0",thead:"",tbody:"",tr:"",th:"border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; font-weight: bold",td:"border: 1px solid #ddd; padding: 8px; text-align: left",hr:"border: none; border-top: 1px solid #ddd; margin: 1em 0",img:"max-width: 100%; height: auto",a:"color: #0066cc; text-decoration: underline",strong:"font-weight: bold",em:"font-style: italic",del:"text-decoration: line-through",ul:"margin: 0.5em 0; padding-left: 2em",ol:"margin: 0.5em 0; padding-left: 2em",li:"margin: 0.25em 0",br:""};function i(e,t=""){if(r){const o=l[e]||"",n=t?`${o}; ${t}`:o;return n?` style="${n}"`:""}return` class="quikdown-${e}"`}function p(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,e=>t[e])}let a=e;const d=[],c=[];return a=a.replace(/```(\w*)\n([\s\S]*?)```/g,(e,t,o)=>{const r=`%%%CODEBLOCK${d.length}%%%`;return n&&"function"==typeof n?d.push({lang:t||"",code:o.trimEnd(),custom:!0}):d.push({lang:t||"",code:p(o.trimEnd()),custom:!1}),r}),a=a.replace(/`([^`]+)`/g,(e,t)=>{const o=`%%%INLINECODE${c.length}%%%`;return c.push(p(t)),o}),a=p(a),a=function(e,t,n){const r=e.split("\n"),l=[];let i=!1,p=[];for(let e=0;e<r.length;e++){const a=r[e].trim();if(a.startsWith("|")&&a.endsWith("|"))i||(i=!0,p=[]),p.push(a);else{if(i){const e=o(p,t,n);e?l.push(e):l.push(...p),i=!1,p=[]}l.push(r[e])}}if(i&&p.length>0){const e=o(p,t,n);e?l.push(e):l.push(...p)}return l.join("\n")}(a,r,l),a=a.replace(/^(#{1,6})\s+(.+)$/gm,(e,t,o)=>{const n=t.length;return`<h${n}${i("h"+n)}>${o}</h${n}>`}),a=a.replace(/^&gt;\s+(.+)$/gm,`<blockquote${i("blockquote")}>$1</blockquote>`),a=a.replace(/<\/blockquote>\n<blockquote>/g,"\n"),a=a.replace(/^---+$/gm,`<hr${i("hr")}>`),a=function(e,t,o){function n(e,n=""){if(t){const t=o[e]||"",r=n?`${t}; ${n}`:t;return r?` style="${r}"`:""}return` class="quikdown-${e}"`}const r=e.split("\n"),l=[];let i=[];for(let e=0;e<r.length;e++){const t=r[e],o=t.match(/^(\s*)([*\-+]|\d+\.)\s+(.+)$/);if(o){const[,e,t,r]=o,p=Math.floor(e.length/2),a=/^\d+\./.test(t)?"ol":"ul";for(;i.length>p+1;){const e=i.pop();l.push(`</${e.type}>`)}if(i.length===p)i.push({type:a,level:p}),l.push(`<${a}${n(a)}>`);else if(i.length===p+1){const e=i[i.length-1];e.type!==a&&(l.push(`</${e.type}>`),i.pop(),i.push({type:a,level:p}),l.push(`<${a}${n(a)}>`))}l.push(`<li${n("li")}>${r}</li>`)}else{for(;i.length>0;){const e=i.pop();l.push(`</${e.type}>`)}l.push(t)}}for(;i.length>0;){const e=i.pop();l.push(`</${e.type}>`)}return l.join("\n")}(a,r,l),a=a.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(e,t,o)=>`<img${i("img")} src="${o}" alt="${t}">`),a=a.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(e,t,o)=>`<a${i("a")} href="${o}">${t}</a>`),a=a.replace(/\*\*(.+?)\*\*/g,`<strong${i("strong")}>$1</strong>`),a=a.replace(/__(.+?)__/g,`<strong${i("strong")}>$1</strong>`),a=a.replace(/(?<!\*)\*(?!\*)(.+?)(?<!\*)\*(?!\*)/g,`<em${i("em")}>$1</em>`),a=a.replace(/(?<!_)_(?!_)(.+?)(?<!_)_(?!_)/g,`<em${i("em")}>$1</em>`),a=a.replace(/~~(.+?)~~/g,`<del${i("del")}>$1</del>`),a=a.replace(/  $/gm,`<br${i("br")}>`),a=a.replace(/\n\n+/g,"</p><p>"),a="<p>"+a+"</p>",a=a.replace(/<p><\/p>/g,""),a=a.replace(/<p>(<h[1-6][^>]*>)/g,"$1"),a=a.replace(/(<\/h[1-6]>)<\/p>/g,"$1"),a=a.replace(/<p>(<blockquote[^>]*>)/g,"$1"),a=a.replace(/(<\/blockquote>)<\/p>/g,"$1"),a=a.replace(/<p>(<ul[^>]*>|<ol[^>]*>)/g,"$1"),a=a.replace(/(<\/ul>|<\/ol>)<\/p>/g,"$1"),a=a.replace(/<p>(<hr[^>]*>)<\/p>/g,"$1"),a=a.replace(/<p>(<table[^>]*>)/g,"$1"),a=a.replace(/(<\/table>)<\/p>/g,"$1"),a=a.replace(/<p>(<pre[^>]*>)/g,"$1"),a=a.replace(/(<\/pre>)<\/p>/g,"$1"),a=a.replace(/<p>(%%%CODEBLOCK\d+%%%)<\/p>/g,"$1"),d.forEach((e,t)=>{let o;if(e.custom&&n)o=n(e.code,e.lang);else{const t=!r&&e.lang?` class="language-${e.lang}"`:"",n=r?i("code"):t;o=`<pre${i("pre")}><code${n}>${e.code}</code></pre>`}const l=`%%%CODEBLOCK${t}%%%`;a=a.replace(l,o)}),c.forEach((e,t)=>{const o=`%%%INLINECODE${t}%%%`;a=a.replace(o,`<code${i("code")}>${e}</code>`)}),a.trim()}function t(e,t,o){function n(e,n=""){if(t){const t=o[e]||"",r=n?`${t}; ${n}`:t;return r?` style="${r}"`:""}return` class="quikdown-${e}"`}return e=(e=(e=(e=(e=(e=e.replace(/\*\*(.+?)\*\*/g,`<strong${n("strong")}>$1</strong>`)).replace(/__(.+?)__/g,`<strong${n("strong")}>$1</strong>`)).replace(/(?<!\*)\*(?!\*)(.+?)(?<!\*)\*(?!\*)/g,`<em${n("em")}>$1</em>`)).replace(/(?<!_)_(?!_)(.+?)(?<!_)_(?!_)/g,`<em${n("em")}>$1</em>`)).replace(/~~(.+?)~~/g,`<del${n("del")}>$1</del>`)).replace(/`([^`]+)`/g,`<code${n("code")}>$1</code>`)}function o(e,o,n){function r(e,t=""){if(o){const o=n[e]||"",r=t?`${o}; ${t}`:o;return r?` style="${r}"`:""}return` class="quikdown-${e}"`}if(e.length<2)return null;let l=-1;for(let t=1;t<e.length;t++)if(/^\|[\s\-:|]+\|$/.test(e[t])){l=t;break}if(-1===l)return null;const i=e.slice(0,l),p=e.slice(l+1),a=e[l].split("|").slice(1,-1).map(e=>{const t=e.trim();return t.startsWith(":")&&t.endsWith(":")?"center":t.endsWith(":")?"right":"left"});let d=`<table${r("table")}>\n`;return i.length>0&&(d+=`<thead${r("thead")}>\n`,i.forEach(e=>{d+=`<tr${r("tr")}>\n`;e.split("|").slice(1,-1).forEach((e,l)=>{const i=a[l]&&"left"!==a[l]?`text-align: ${a[l]}`:"",p=t(e.trim(),o,n);d+=`<th${r("th",i)}>${p}</th>\n`}),d+="</tr>\n"}),d+="</thead>\n"),p.length>0&&(d+=`<tbody${r("tbody")}>\n`,p.forEach(e=>{d+=`<tr${r("tr")}>\n`;e.split("|").slice(1,-1).forEach((e,l)=>{const i=a[l]&&"left"!==a[l]?`text-align: ${a[l]}`:"",p=t(e.trim(),o,n);d+=`<td${r("td",i)}>${p}</td>\n`}),d+="</tr>\n"}),d+="</tbody>\n"),d+="</table>",d}e.emitStyles=function(){const e={h1:"margin-top: 0.5em; margin-bottom: 0.3em",h2:"margin-top: 0.5em; margin-bottom: 0.3em",h3:"margin-top: 0.5em; margin-bottom: 0.3em",h4:"margin-top: 0.5em; margin-bottom: 0.3em",h5:"margin-top: 0.5em; margin-bottom: 0.3em",h6:"margin-top: 0.5em; margin-bottom: 0.3em",pre:"background: #f4f4f4; padding: 10px; border-radius: 4px; overflow-x: auto",code:"background: #f0f0f0; padding: 2px 4px; border-radius: 3px",blockquote:"border-left: 4px solid #ddd; margin-left: 0; padding-left: 1em; color: #666",table:"border-collapse: collapse; width: 100%; margin: 1em 0",th:"border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; font-weight: bold",td:"border: 1px solid #ddd; padding: 8px; text-align: left",hr:"border: none; border-top: 1px solid #ddd; margin: 1em 0",img:"max-width: 100%; height: auto",a:"color: #0066cc; text-decoration: underline",strong:"font-weight: bold",em:"font-style: italic",del:"text-decoration: line-through",ul:"margin: 0.5em 0; padding-left: 2em",ol:"margin: 0.5em 0; padding-left: 2em",li:"margin: 0.25em 0"};let t="";for(const[o,n]of Object.entries(e))n&&(t+=`.quikdown-${o} { ${n} }\n`);return t},e.configure=function(t){return function(o){return e(o,t)}},"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&(window.quikdown=e);export{e as default};
//# sourceMappingURL=quikdown.esm.min.js.map
