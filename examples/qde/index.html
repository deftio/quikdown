<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quikdown Editor Demo</title>
    <link rel="icon" href="../../favicon.svg" type="image/svg+xml">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 0 0 1vh 0;
            height: 100vh;
            overflow: hidden;
            box-sizing: border-box;
        }
        
        .container {
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            height: calc(100vh - 1vh);
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: white;
            padding: 20px 30px;
            border-bottom: 1px solid #ddd;
            flex-shrink: 0;
        }
        
        .header h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .header p {
            color: #666;
        }
        
        .tabs {
            background: white;
            border-bottom: 1px solid #ddd;
            padding: 0 30px;
            display: flex;
            gap: 20px;
            flex-shrink: 0;
        }
        
        .tab {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            color: #666;
            transition: all 0.3s;
        }
        
        .tab:hover {
            color: #333;
        }
        
        .tab.active {
            color: #007bff;
            border-bottom-color: #007bff;
        }
        
        .tab-content {
            display: none;
            flex: 1;
            overflow: auto;
            min-height: 0;
        }
        
        .tab-content.active {
            display: flex;
            flex-direction: column;
        }
        
        #editor-container {
            height: 100%;
            margin: 0;
        }
        
        #source-view {
            padding: 30px;
            background: white;
            overflow: auto;
        }
        
        pre {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 4px;
            overflow-x: auto;
        }
        
        code {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .controls {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
        }
        
        .control-group {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .control-group label {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #333;
        }
        
        .control-group select {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }
        
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .info-box h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .info-box ul {
            margin-left: 20px;
            color: #555;
            line-height: 1.8;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                box-shadow: none;
            }
            
            .header {
                padding: 15px 20px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .tabs {
                padding: 0 20px;
                gap: 10px;
            }
            
            .tab {
                padding: 12px 15px;
                font-size: 14px;
            }
            
            #source-view {
                padding: 20px;
            }
            
            pre {
                font-size: 12px;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
        <h1>Quikdown Editor Demo</h1>
        <p>A drop-in markdown editor with live preview and bidirectional editing</p>
    </div>
    
    <div class="tabs">
        <div class="tab active" onclick="switchTab('demo')">Live Demo</div>
        <div class="tab" onclick="switchTab('source')">Source Code</div>
    </div>
    
    <div id="demo-tab" class="tab-content active">
        <div id="editor-container"></div>
    </div>
    
    <div id="source-tab" class="tab-content">
        <div id="source-view">
            <div class="info-box">
                <h3>How to Use Quikdown Editor</h3>
                <ul>
                    <li>Import the editor from CDN or npm</li>
                    <li>Create a container div with a defined height</li>
                    <li>Initialize with options</li>
                    <li>That's it! The editor handles everything else</li>
                </ul>
            </div>
            
            <h2>HTML Setup</h2>
            <pre><code>&lt;!-- Container for the editor --&gt;
&lt;div id="editor" style="height: 500px;"&gt;&lt;/div&gt;</code></pre>
            
            <h2>Complete Working Example</h2>
            <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;My Editor&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 1. Create a container --&gt;
    &lt;div id="editor" style="height: 500px;"&gt;&lt;/div&gt;
    
    &lt;!-- 2. Load and initialize --&gt;
    &lt;script type="module"&gt;
        import QuikdownEditor from 'https://unpkg.com/quikdown/dist/quikdown_edit.esm.min.js';
        
        // That's it! Editor is ready
        const editor = new QuikdownEditor('#editor', {
            mode: 'split',
            plugins: { highlightjs: true, mermaid: true }
        });
        
        // Optional: Load some content
        editor.setMarkdown('# Hello World\n\nStart typing!');
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            
            <h2>Minimal Setup (3 lines)</h2>
            <pre><code>&lt;div id="editor" style="height: 500px;"&gt;&lt;/div&gt;
&lt;script type="module"&gt;
    import QuikdownEditor from 'https://unpkg.com/quikdown/dist/quikdown_edit.esm.min.js';
    new QuikdownEditor('#editor');
&lt;/script&gt;</code></pre>
            
            <h2>Available Methods</h2>
            <pre><code>// Set markdown content
editor.setMarkdown('# Hello World');

// Get current markdown
const markdown = editor.getMarkdown();

// Get rendered HTML
const html = editor.getHTML();

// Change view mode
editor.setMode('preview');  // or 'source' or 'split'

// Clean up when done
editor.destroy();</code></pre>
            
            <h2>Options</h2>
            <div class="controls">
                <p>The editor in the demo tab was initialized with these options:</p>
                <pre><code>{
    mode: 'split',
    theme: 'auto',
    showToolbar: true,
    lazy_linefeeds: false,
    plugins: {
        highlightjs: true,
        mermaid: true
    }
}</code></pre>
            </div>
        </div>
    </div>
    </div> <!-- Close container -->
    
    <script type="module">
        import QuikdownEditor from '../../dist/quikdown_edit.esm.js';
        
        // Create the editor - that's it!
        const editor = new QuikdownEditor('#editor-container', {
            mode: 'split',
            showRemoveHR: true,  // Show the Remove --- button
            plugins: { highlightjs: true, mermaid: true }
        });
        
        // Load sample content
        fetch('sample.md')
            .then(res => {
                if (!res.ok) throw new Error('Sample not found');
                return res.text();
            })
            .then(content => editor.setMarkdown(content))
            .catch(() => {
                // Use a nice default if sample.md can't be loaded
                editor.setMarkdown(`# Welcome to Quikdown Editor!

This is a **full-featured** markdown editor with live preview and bidirectional editing.

## Quick Start

- Type markdown in the **left panel** (Source)
- See it rendered in the **right panel** (Rendered)
- Or click the Rendered panel to edit it directly!
- Try the buttons above to switch between modes

## Features Demo

### Text Formatting

You can use **bold**, *italic*, ~~strikethrough~~, and \`inline code\`.

### Lists

- Unordered list item 1
- Unordered list item 2
  - Nested item
  
1. Ordered list
2. Another item
   1. Nested ordered

### Task Lists

- [x] Completed task
- [ ] Pending task
- [ ] Another todo

### Code Blocks

\`\`\`javascript
// Syntax highlighting works!
function hello(name) {
    console.log(\`Hello, \${name}!\`);
    return \`Welcome to Quikdown Editor\`;
}

hello('World');
\`\`\`

### Mermaid Diagrams

\`\`\`mermaid
graph TD
    A[Write Markdown] --> B[See HTML]
    B --> C[Edit Either Side]
    C --> D[Changes Sync!]
    D --> A
\`\`\`

### Tables

| Feature | Status | Notes |
|---------|--------|-------|
| Markdown Parsing | ✅ | Fast and secure |
| Bidirectional | ✅ | Edit either view |
| Plugins | ✅ | Extensible |

### Links and Images

Visit the [Quikdown GitHub repo](https://github.com/deftio/quikdown) for more info.

### Blockquotes

> Quikdown is a lightweight, fast markdown parser with built-in XSS protection.
> 
> It works in both browser and Node.js environments.

---

**Try editing this content in either panel!** The changes will sync automatically.

💡 **Tip**: Press Ctrl/Cmd + 1/2/3 to switch between Source, Split, and Rendered modes.`);
            });
        
        // Tab switching
        window.switchTab = function(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(`${tab}-tab`).classList.add('active');
        };
    </script>
</body>
</html>